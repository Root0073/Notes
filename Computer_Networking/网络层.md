本章的重要概念是
1. 虚拟互联网络和两种服务，两个层面的概念
2. ip地址和mac地址的关系
3. 传统分类的ip地址和无分类域间选择CIDR
4. 路由选择协议的工作原理

# 网络层的几个重要概念
## 网络层提供的两种服务
当两台计算机进行通信时，应当先建立连接，分组交换中是建立一条虚电路VC

互联网采用的设计思路是这样的：网络层要设计的尽量简单，向其上层只提供简单灵活的、无连接的、尽最大努力交付的数据报服务

### 网络层的两个层面
路由器之间传送的信息有以下两大类：
1. 转发源主机和目的主机之间所传送的数据
2. 传送路由信息，目的是为了在路由器中创建路由表，导出为转发分组而用的转发表

也就把网络层抽象的划分为数据层面和控制层面

# 国际协议ip
与协议ip配套使用的还有三个协议
1. 地址解析协议ARP
2. ICMP
3. IGMP

将网络互相连接起来要使用一些中间设备
1. 物理层使用的是转发器
2. 数据链路层使用的是网桥或桥接器以及交换机
3. 网络层使用的是路由器
4. 网络层以上的是网关

所谓虚拟互联网络也就是逻辑互联网络，他的意思就是互联起来的各种物理网络互联起来的各种物理网络的异构性本来是客观存在的，但可以利用ip使得这些性能各异的网络在网络层上看起来是一个统一的网络

互联网可以由多种异构网络互联组成

# ip地址 
ip地址就是给连接到互联网上的每一台主机的每一个接口分配一个在全世界范围内是唯一的32位的标识符

ip地址不但标志了这个主机，还标识了此接口所连接的网络，第一个字段是网络号，表示所连接的网络，第二个是主机号，他标志着该主机
## 无分类编址CIDR
网络前缀的位数n是一个不固定的值，可以在0-32任选

一个大的CIDR地址快中往往包含很多小的地址块，所以在路由器中的转发表中就利用较大的一个CIDR地址块来代替许多小的地址块，这个被称为构造超网

## ip地址的特点
路由器根据目的主机所连接的网络前缀来转发分组，这样就可以使转发表中的项目数大幅度减少，从而减少转发表所占的存储空间，减少查找转发表的时间

ip地址是标志一台主机和一条链路的接口，当一台主机同时连接到两个网络上时，该主机就必须同时拥有两个相应的ip地址，这种主机被称为多归属主机

用转发器或交换机连接起来的若干个局域网仍为一个网络



